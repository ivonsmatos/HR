# Generated by Django 5.2.9 on 2025-12-13 00:00

import django.core.validators
import django.db.models.deletion
import uuid
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('departamento_pessoal', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Candidato',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('nome', models.CharField(max_length=255)),
                ('email', models.EmailField(max_length=254, unique=True)),
                ('telefone', models.CharField(blank=True, max_length=20)),
                ('cpf', models.CharField(blank=True, max_length=14)),
                ('data_nascimento', models.DateField(blank=True, null=True)),
                ('cidade', models.CharField(blank=True, max_length=100)),
                ('estado', models.CharField(blank=True, max_length=2)),
                ('pais', models.CharField(default='Brasil', max_length=50)),
                ('curriculo', models.FileField(blank=True, null=True, upload_to='candidatos/curriculos/')),
                ('curriculo_texto', models.TextField(blank=True, help_text='Texto extraído do currículo para busca')),
                ('foto', models.ImageField(blank=True, null=True, upload_to='candidatos/fotos/')),
                ('linkedin', models.URLField(blank=True)),
                ('portfolio', models.URLField(blank=True)),
                ('escolaridade', models.CharField(blank=True, choices=[('fundamental_incompleto', 'Fundamental Incompleto'), ('fundamental_completo', 'Fundamental Completo'), ('medio_incompleto', 'Médio Incompleto'), ('medio_completo', 'Médio Completo'), ('tecnico', 'Técnico'), ('superior_incompleto', 'Superior Incompleto'), ('superior_completo', 'Superior Completo'), ('pos_graduacao', 'Pós-Graduação'), ('mestrado', 'Mestrado'), ('doutorado', 'Doutorado')], max_length=100)),
                ('area_formacao', models.CharField(blank=True, max_length=100)),
                ('instituicao', models.CharField(blank=True, max_length=255)),
                ('anos_experiencia', models.IntegerField(default=0)),
                ('area_atuacao', models.CharField(blank=True, max_length=100)),
                ('cargo_atual', models.CharField(blank=True, max_length=100)),
                ('empresa_atual', models.CharField(blank=True, max_length=255)),
                ('habilidades', models.JSONField(default=list, help_text='Lista de habilidades')),
                ('idiomas', models.JSONField(default=list, help_text='Lista de idiomas')),
                ('certificacoes', models.JSONField(default=list, help_text='Lista de certificações')),
                ('palavras_chave', models.JSONField(default=list, help_text='Palavras-chave para busca')),
                ('pretensao_salarial', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('disponibilidade', models.CharField(blank=True, choices=[('imediata', 'Imediata'), ('15_dias', '15 Dias'), ('30_dias', '30 Dias'), ('60_dias', '60 Dias'), ('negociar', 'A Negociar')], max_length=50)),
                ('aceita_remoto', models.BooleanField(default=True)),
                ('aceita_hibrido', models.BooleanField(default=True)),
                ('aceita_presencial', models.BooleanField(default=True)),
                ('origem', models.CharField(blank=True, choices=[('site_carreiras', 'Site de Carreiras'), ('linkedin', 'LinkedIn'), ('indicacao', 'Indicação'), ('hunters', 'Hunters'), ('feira', 'Feira de Emprego'), ('banco_externo', 'Banco Externo'), ('outros', 'Outros')], max_length=50)),
                ('tags', models.JSONField(default=list)),
                ('estrelas', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(5)])),
                ('favorito', models.BooleanField(default=False)),
                ('blacklist', models.BooleanField(default=False)),
                ('motivo_blacklist', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'Candidato',
                'verbose_name_plural': 'Candidatos',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='PaginaCarreiras',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('titulo', models.CharField(default='Carreiras', max_length=255)),
                ('subtitulo', models.CharField(blank=True, max_length=500)),
                ('descricao', models.TextField(blank=True)),
                ('sobre_empresa', models.TextField(blank=True)),
                ('missao', models.TextField(blank=True)),
                ('visao', models.TextField(blank=True)),
                ('valores', models.JSONField(default=list)),
                ('logo', models.ImageField(blank=True, null=True, upload_to='carreiras/')),
                ('banner', models.ImageField(blank=True, null=True, upload_to='carreiras/')),
                ('video_institucional', models.URLField(blank=True)),
                ('linkedin_empresa', models.URLField(blank=True)),
                ('instagram', models.URLField(blank=True)),
                ('glassdoor', models.URLField(blank=True)),
                ('meta_description', models.CharField(blank=True, max_length=160)),
                ('meta_keywords', models.CharField(blank=True, max_length=255)),
                ('cor_primaria', models.CharField(default='#3498db', max_length=7)),
                ('cor_secundaria', models.CharField(default='#2ecc71', max_length=7)),
            ],
            options={
                'verbose_name': 'Página de Carreiras',
                'verbose_name_plural': 'Páginas de Carreiras',
            },
        ),
        migrations.CreateModel(
            name='PerfilCargo',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('nome', models.CharField(max_length=255)),
                ('codigo', models.CharField(max_length=50, unique=True)),
                ('descricao', models.TextField(blank=True)),
                ('dominancia', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('influencia', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('estabilidade', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('conformidade', models.IntegerField(default=50, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('competencias_tecnicas', models.JSONField(default=list, help_text='Lista de competências técnicas')),
                ('competencias_comportamentais', models.JSONField(default=list, help_text='Lista de competências comportamentais')),
                ('escolaridade_minima', models.CharField(blank=True, max_length=100)),
                ('experiencia_minima', models.IntegerField(default=0, help_text='Anos de experiência mínima')),
                ('idiomas', models.JSONField(default=list, help_text='Lista de idiomas requeridos')),
                ('is_template', models.BooleanField(default=False, help_text='Marcar como template reutilizável')),
            ],
            options={
                'verbose_name': 'Perfil de Cargo',
                'verbose_name_plural': 'Perfis de Cargos',
                'ordering': ['nome'],
            },
        ),
        migrations.CreateModel(
            name='CandidaturaVaga',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('etapa_atual', models.CharField(default='triagem', max_length=50)),
                ('status', models.CharField(choices=[('inscrito', 'Inscrito'), ('em_triagem', 'Em Triagem'), ('aprovado_triagem', 'Aprovado na Triagem'), ('reprovado_triagem', 'Reprovado na Triagem'), ('entrevista_agendada', 'Entrevista Agendada'), ('entrevista_realizada', 'Entrevista Realizada'), ('teste_pendente', 'Teste Pendente'), ('teste_realizado', 'Teste Realizado'), ('aprovado', 'Aprovado'), ('reprovado', 'Reprovado'), ('desistiu', 'Desistiu'), ('contratado', 'Contratado')], default='inscrito', max_length=30)),
                ('match_score', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('match_detalhes', models.JSONField(blank=True, default=dict)),
                ('nota_triagem', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('nota_entrevista', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('nota_teste', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('nota_final', models.DecimalField(blank=True, decimal_places=2, max_digits=4, null=True)),
                ('historico_etapas', models.JSONField(default=list)),
                ('feedback_recrutador', models.TextField(blank=True)),
                ('feedback_gestor', models.TextField(blank=True)),
                ('motivo_reprovacao', models.TextField(blank=True)),
                ('candidato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='candidaturas', to='recrutamento_selecao.candidato')),
                ('recrutador_responsavel', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='candidaturas_responsavel', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Candidatura',
                'verbose_name_plural': 'Candidaturas',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='Entrevista',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('tipo', models.CharField(choices=[('triagem', 'Triagem'), ('tecnica', 'Técnica'), ('comportamental', 'Comportamental'), ('gestor', 'Com Gestor'), ('final', 'Final')], max_length=30)),
                ('data_hora', models.DateTimeField()),
                ('duracao_minutos', models.IntegerField(default=60)),
                ('local', models.CharField(blank=True, max_length=255)),
                ('link_videoconferencia', models.URLField(blank=True)),
                ('status', models.CharField(choices=[('agendada', 'Agendada'), ('confirmada', 'Confirmada'), ('realizada', 'Realizada'), ('cancelada', 'Cancelada'), ('remarcada', 'Remarcada'), ('no_show', 'No Show')], default='agendada', max_length=30)),
                ('roteiro', models.TextField(blank=True, help_text='Roteiro/perguntas da entrevista')),
                ('anotacoes', models.TextField(blank=True)),
                ('nota', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(10)])),
                ('parecer', models.CharField(blank=True, choices=[('aprovado', 'Aprovado'), ('reprovado', 'Reprovado'), ('pendente', 'Pendente Avaliação')], max_length=30)),
                ('roteiro_ia', models.TextField(blank=True, help_text='Roteiro sugerido pelo Agente SyncRH')),
                ('candidatura', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='entrevistas', to='recrutamento_selecao.candidaturavaga')),
                ('entrevistadores', models.ManyToManyField(related_name='entrevistas_participante', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Entrevista',
                'verbose_name_plural': 'Entrevistas',
                'ordering': ['data_hora'],
            },
        ),
        migrations.CreateModel(
            name='ExperienciaProfissional',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('empresa', models.CharField(max_length=255)),
                ('cargo', models.CharField(max_length=100)),
                ('data_inicio', models.DateField()),
                ('data_fim', models.DateField(blank=True, null=True)),
                ('atual', models.BooleanField(default=False)),
                ('descricao', models.TextField(blank=True)),
                ('candidato', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='experiencias', to='recrutamento_selecao.candidato')),
            ],
            options={
                'verbose_name': 'Experiência Profissional',
                'verbose_name_plural': 'Experiências Profissionais',
                'ordering': ['-data_inicio'],
            },
        ),
        migrations.CreateModel(
            name='DepoimentoColaborador',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('nome', models.CharField(max_length=255)),
                ('cargo', models.CharField(max_length=100)),
                ('departamento', models.CharField(blank=True, max_length=100)),
                ('foto', models.ImageField(blank=True, null=True, upload_to='carreiras/depoimentos/')),
                ('depoimento', models.TextField()),
                ('destaque', models.BooleanField(default=False)),
                ('ordem', models.IntegerField(default=0)),
                ('pagina', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='depoimentos', to='recrutamento_selecao.paginacarreiras')),
            ],
            options={
                'verbose_name': 'Depoimento de Colaborador',
                'verbose_name_plural': 'Depoimentos de Colaboradores',
                'ordering': ['ordem'],
            },
        ),
        migrations.CreateModel(
            name='CompetenciaCargo',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('nome', models.CharField(max_length=100)),
                ('tipo', models.CharField(choices=[('tecnica', 'Técnica'), ('comportamental', 'Comportamental'), ('lideranca', 'Liderança'), ('comunicacao', 'Comunicação')], max_length=30)),
                ('peso', models.IntegerField(default=1, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('nivel_minimo', models.IntegerField(default=3, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('descricao', models.TextField(blank=True)),
                ('perfil_cargo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='competencias', to='recrutamento_selecao.perfilcargo')),
            ],
            options={
                'verbose_name': 'Competência do Cargo',
                'verbose_name_plural': 'Competências do Cargo',
            },
        ),
        migrations.CreateModel(
            name='PerfilComportamental',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('data_mapeamento', models.DateTimeField(auto_now_add=True)),
                ('dominancia', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('influencia', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('estabilidade', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('conformidade', models.IntegerField(default=0, validators=[django.core.validators.MinValueValidator(0), django.core.validators.MaxValueValidator(100)])),
                ('perfil_dominante', models.CharField(blank=True, choices=[('dominante', 'Dominante (D)'), ('influente', 'Influente (I)'), ('estavel', 'Estável (S)'), ('conforme', 'Conforme (C)'), ('di', 'Dominante-Influente (DI)'), ('id', 'Influente-Dominante (ID)'), ('is', 'Influente-Estável (IS)'), ('si', 'Estável-Influente (SI)'), ('sc', 'Estável-Conforme (SC)'), ('cs', 'Conforme-Estável (CS)'), ('cd', 'Conforme-Dominante (CD)'), ('dc', 'Dominante-Conforme (DC)')], max_length=50)),
                ('informacoes_detalhadas', models.JSONField(default=dict, help_text='Dados detalhados do mapeamento')),
                ('pontos_fortes', models.JSONField(default=list)),
                ('areas_desenvolvimento', models.JSONField(default=list)),
                ('estilo_comunicacao', models.TextField(blank=True)),
                ('estilo_lideranca', models.TextField(blank=True)),
                ('ambiente_ideal', models.TextField(blank=True)),
                ('fatores_motivacionais', models.JSONField(default=list)),
                ('fatores_estresse', models.JSONField(default=list)),
                ('compatibilidade_equipe', models.JSONField(blank=True, default=dict)),
                ('token_preenchimento', models.CharField(blank=True, max_length=100, unique=True)),
                ('preenchido', models.BooleanField(default=False)),
                ('data_preenchimento', models.DateTimeField(blank=True, null=True)),
                ('respostas', models.JSONField(blank=True, default=dict)),
                ('candidato', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='perfis_comportamentais', to='recrutamento_selecao.candidato')),
                ('colaborador', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='perfis_comportamentais', to='departamento_pessoal.colaborador')),
            ],
            options={
                'verbose_name': 'Perfil Comportamental',
                'verbose_name_plural': 'Perfis Comportamentais',
                'ordering': ['-data_mapeamento'],
            },
        ),
        migrations.CreateModel(
            name='Vaga',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('titulo', models.CharField(max_length=255)),
                ('codigo', models.CharField(max_length=50, unique=True)),
                ('descricao', models.TextField()),
                ('responsabilidades', models.TextField(blank=True)),
                ('requisitos', models.TextField(blank=True)),
                ('beneficios', models.TextField(blank=True)),
                ('tipo_contrato', models.CharField(choices=[('clt', 'CLT'), ('pj', 'PJ'), ('estagio', 'Estágio'), ('temporario', 'Temporário'), ('trainee', 'Trainee'), ('freelancer', 'Freelancer')], default='clt', max_length=30)),
                ('modalidade', models.CharField(choices=[('presencial', 'Presencial'), ('remoto', 'Remoto'), ('hibrido', 'Híbrido')], default='presencial', max_length=30)),
                ('cidade', models.CharField(blank=True, max_length=100)),
                ('estado', models.CharField(blank=True, max_length=2)),
                ('faixa_salarial_min', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('faixa_salarial_max', models.DecimalField(blank=True, decimal_places=2, max_digits=10, null=True)),
                ('exibir_salario', models.BooleanField(default=False)),
                ('quantidade_vagas', models.IntegerField(default=1)),
                ('data_abertura', models.DateField(auto_now_add=True)),
                ('data_limite', models.DateField(blank=True, null=True)),
                ('status', models.CharField(choices=[('rascunho', 'Rascunho'), ('aberta', 'Aberta'), ('em_processo', 'Em Processo Seletivo'), ('pausada', 'Pausada'), ('fechada', 'Fechada'), ('cancelada', 'Cancelada')], default='rascunho', max_length=30)),
                ('publicar_site_carreiras', models.BooleanField(default=True)),
                ('publicar_linkedin', models.BooleanField(default=False)),
                ('etapas', models.JSONField(default=list, help_text='Etapas do processo seletivo')),
                ('gestor_vaga', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vagas_gestor', to=settings.AUTH_USER_MODEL)),
                ('perfil_cargo', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vagas', to='recrutamento_selecao.perfilcargo')),
                ('recrutador', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='vagas_responsavel', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Vaga',
                'verbose_name_plural': 'Vagas',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='SugestaoIA',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('tipo', models.CharField(choices=[('roteiro_entrevista', 'Roteiro de Entrevista'), ('feedback_candidato', 'Feedback para Candidato'), ('analise_curriculo', 'Análise de Currículo'), ('match_vaga', 'Match com Vaga'), ('descricao_vaga', 'Descrição de Vaga'), ('email_candidato', 'E-mail para Candidato'), ('triagem_automatica', 'Triagem Automática'), ('recomendacao', 'Recomendação')], max_length=50)),
                ('prompt_usado', models.TextField(blank=True)),
                ('conteudo', models.TextField()),
                ('contexto', models.JSONField(blank=True, default=dict)),
                ('utilizado', models.BooleanField(default=False)),
                ('avaliacao', models.IntegerField(blank=True, null=True, validators=[django.core.validators.MinValueValidator(1), django.core.validators.MaxValueValidator(5)])),
                ('feedback_usuario', models.TextField(blank=True)),
                ('candidato', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sugestoes_ia', to='recrutamento_selecao.candidato')),
                ('candidatura', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sugestoes_ia', to='recrutamento_selecao.candidaturavaga')),
                ('solicitado_por', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, to=settings.AUTH_USER_MODEL)),
                ('vaga', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='sugestoes_ia', to='recrutamento_selecao.vaga')),
            ],
            options={
                'verbose_name': 'Sugestão IA',
                'verbose_name_plural': 'Sugestões IA',
                'ordering': ['-created_at'],
            },
        ),
        migrations.CreateModel(
            name='MetricaRecrutamento',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('periodo_inicio', models.DateField()),
                ('periodo_fim', models.DateField()),
                ('total_candidatos', models.IntegerField(default=0)),
                ('candidatos_triados', models.IntegerField(default=0)),
                ('candidatos_entrevistados', models.IntegerField(default=0)),
                ('candidatos_aprovados', models.IntegerField(default=0)),
                ('candidatos_contratados', models.IntegerField(default=0)),
                ('taxa_conversao_triagem', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('taxa_conversao_entrevista', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('taxa_conversao_final', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('tempo_medio_preenchimento', models.IntegerField(default=0, help_text='Dias médios para preencher vaga')),
                ('tempo_medio_triagem', models.IntegerField(default=0, help_text='Dias médios na triagem')),
                ('tempo_medio_processo', models.IntegerField(default=0, help_text='Dias médios no processo todo')),
                ('custo_por_contratacao', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('qualidade_contratacoes', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('retencao_90_dias', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('candidatos_por_origem', models.JSONField(default=dict)),
                ('vaga', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='metricas', to='recrutamento_selecao.vaga')),
            ],
            options={
                'verbose_name': 'Métrica de Recrutamento',
                'verbose_name_plural': 'Métricas de Recrutamento',
                'ordering': ['-periodo_fim'],
            },
        ),
        migrations.AddField(
            model_name='candidaturavaga',
            name='vaga',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='candidaturas', to='recrutamento_selecao.vaga'),
        ),
        migrations.CreateModel(
            name='MatchPerfil',
            fields=[
                ('id', models.BigAutoField(primary_key=True, serialize=False)),
                ('uuid', models.UUIDField(default=uuid.uuid4, editable=False, unique=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, db_index=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_active', models.BooleanField(db_index=True, default=True)),
                ('aderencia_geral', models.DecimalField(decimal_places=2, default=0, help_text='Porcentagem de aderência', max_digits=5)),
                ('aderencia_disc', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('aderencia_competencias', models.DecimalField(decimal_places=2, default=0, max_digits=5)),
                ('competencias_atendidas', models.JSONField(default=list)),
                ('competencias_desenvolver', models.JSONField(default=list)),
                ('gaps_identificados', models.JSONField(default=list)),
                ('recomendacao', models.CharField(blank=True, choices=[('altamente_recomendado', 'Altamente Recomendado'), ('recomendado', 'Recomendado'), ('potencial', 'Potencial'), ('nao_recomendado', 'Não Recomendado')], max_length=30)),
                ('justificativa_ia', models.TextField(blank=True, help_text='Justificativa gerada pela IA')),
                ('perfil_cargo', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matches', to='recrutamento_selecao.perfilcargo')),
                ('perfil_comportamental', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='matches', to='recrutamento_selecao.perfilcomportamental')),
                ('vaga', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='matches', to='recrutamento_selecao.vaga')),
            ],
            options={
                'verbose_name': 'Match de Perfil',
                'verbose_name_plural': 'Matches de Perfil',
                'unique_together': {('perfil_comportamental', 'perfil_cargo', 'vaga')},
            },
        ),
        migrations.AlterUniqueTogether(
            name='candidaturavaga',
            unique_together={('candidato', 'vaga')},
        ),
    ]
